(this.webpackJsonpklipping=this.webpackJsonpklipping||[]).push([[0],{41:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);n(5);var r=n(0),a=n.n(r),i=n(14),c=n.n(i),o=(n(41),n(7)),s=n(11),u=n(4),d=n(3),b=n(9),l=Object(b.c)({name:"mainMenuState",initialState:{value:"Cutting"},reducers:{setState:function(e,t){e.value=t.payload}}}),p=l.actions.setState,f=function(e){return e.mainMenuState.value},j=l.reducer,m=n(1),O=function(e){var t=e.iconName,n=e.stateName,r=Object(d.b)(),a=Object(d.c)(f),i=Object(o.a)(Object(o.a)({color:"snow",borderRadius:"25px",cursor:"pointer",transitionDuration:"0.3s",transitionProperty:"transform"},a===n&&{stroke:"black",strokeWidth:"10"}),{},{"&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"},display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"});return Object(m.b)("div",{css:i,title:n},Object(m.b)(s.a,{icon:t,size:"7x",onClick:function(){r(p(n))}}),n)},g=function(){return Object(m.b)("div",{style:{backgroundColor:"rgba(56, 142, 214, 1)",borderRadius:"25px",width:"200px",display:"flex",flexDirection:"column",alignItems:"center",padding:"10px",gap:"20px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)"},title:"MainMenu"},Object(m.b)(O,{iconName:u.d,stateName:"Cutting"}),Object(m.b)(O,{iconName:u.e,stateName:"Metadata"}),Object(m.b)(O,{iconName:u.g,stateName:"Thumbnail"}),Object(m.b)(O,{iconName:u.b,stateName:"Start Workflow"}))},x=n(12),v=n(16),y=Object(b.c)({name:"videoState",initialState:{isPlaying:!1,currentlyAt:0,duration:0,segments:[{id:Object(b.d)(),startTime:0,endTime:64.733,state:"alive"}]},reducers:{setIsPlaying:function(e,t){e.isPlaying=t.payload},setCurrentlyAt:function(e,t){console.log("Action.payload: "+t.payload),e.currentlyAt=t.payload},setDuration:function(e,t){e.duration=t.payload},addSegment:function(e,t){e.segments.push(t.payload)},cut:function(e){var t=e.segments.findIndex((function(t){return t.startTime<=e.currentlyAt&&t.endTime>=e.currentlyAt}));if(e.segments[t].startTime===e.currentlyAt||e.segments[t].endTime===e.currentlyAt)return e;var n={id:Object(b.d)(),startTime:e.segments[t].startTime,endTime:e.currentlyAt,state:"dead"},r={id:Object(b.d)(),startTime:e.currentlyAt,endTime:e.segments[t].endTime,state:"dead"};e.segments.splice(t,1,n,r)}}}),h=y.actions,w=h.setIsPlaying,C=h.setCurrentlyAt,S=h.setDuration,k=(h.addSegment,h.cut),R=function(e){return e.videoState.isPlaying},T=function(e){return e.videoState.currentlyAt},N=function(e){return e.videoState.segments},D=y.reducer,I=n(15),A=n.n(I),L=n(19),P=n(35);function U(e){return M.apply(this,arguments)}function M(){return(M=Object(L.a)(A.a.mark((function e(t){var n,r,a,i,c,s,u,d,b,l=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:{},r=n.body,a=Object(P.a)(n,["body"]),i={"Content-Type":"application/json"},c=btoa(unescape(encodeURIComponent("admin:opencast"))),s={Authorization:"Basic ".concat(c)},u=Object(o.a)(Object(o.a)({method:r?"POST":"GET"},a),{},{user:"admin",password:"opencast",headers:Object(o.a)(Object(o.a)(Object(o.a)({},i),a.headers),s)}),r&&(u.body=JSON.stringify(r)),e.prev=6,e.next=9,window.fetch(t,u);case 9:return b=e.sent,e.next=12,b.json();case 12:if(d=e.sent,!b.ok){e.next=15;break}return e.abrupt("return",d);case 15:throw new Error(b.statusText);case 18:return e.prev=18,e.t0=e.catch(6),e.abrupt("return",Promise.reject(e.t0.message?e.t0.message:d));case 21:case"end":return e.stop()}}),e,null,[[6,18]])})))).apply(this,arguments)}U.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return U(e,Object(o.a)(Object(o.a)({},t),{},{method:"GET"}))},U.post=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return U(e,Object(o.a)(Object(o.a)({},n),{},{body:t}))};var E=Object(b.b)("videoURL/fetchVideoURL",Object(L.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.get("https://legacy.opencast.org/admin-ng/tools/ID-dual-stream-demo/editor.json");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),z=Object(b.c)({name:"videoURL",initialState:{videoURLs:[],videoCount:0,duration:0,status:"idle",error:null},reducers:{},extraReducers:function(e){e.addCase(E.pending,(function(e,t){e.status="loading"})),e.addCase(E.fulfilled,(function(e,t){e.status="success",e.videoURLs=t.payload.previews.reduce((function(e,t){return e.push(t.uri),e}),[]),e.videoCount=t.payload.previews.length,e.duration=t.payload.duration/1e3})),e.addCase(E.rejected,(function(e,t){e.status="failed",e.error=t.error.message}))}}),F=function(e){return e.videoURL.videoURLs},V=function(e){return e.videoURL.videoCount},W=function(e){return e.videoURL.duration},B=z.reducer,J=n(32),q=n.n(J),G=function(e){var t=e.url,n=e.isMuted,a=Object(d.b)(),i=Object(d.c)(R),c=Object(d.c)(T),o=Object(d.c)(W),s=Object(r.useState)(!1),u=Object(v.a)(s,2),b=u[0],l=u[1],p=Object(r.useRef)(null);return Object(r.useEffect)((function(){!i&&p.current&&b&&(console.log("useEffect seekTO CurrentlyAt: "+c),p.current.seekTo(c,"seconds"))})),Object(m.b)(q.a,{url:t,ref:p,playing:i,muted:n,onProgress:function(e){a(C(e.playedSeconds))},progressInterval:100,onDuration:function(e){a(S(e))},onReady:function(){l(!0)},onEnded:function(){a(w(!1)),a(C(o))}})},H=function(){var e=Object(d.b)(),t=Object(d.c)(R),n=Object(d.c)(T),r={display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",padding:"10px"};return Object(m.b)("div",{css:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",padding:"10px"},title:"Video Controls"},Object(m.b)("div",{css:r,title:"Video Controls Top Row"},Object(m.b)(s.a,{css:{cursor:"pointer",transitionDuration:"0.3s",transitionProperty:"transform","&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"}},icon:t?u.f:u.h,size:"5x",onClick:function(){return e(w(!t))}})),Object(m.b)("div",{css:r,title:"Video Controls Bottom Row"},Object(m.b)("div",null,new Date(1e3*(n||0)).toISOString().substr(11,12))))},Y=function(){var e,t=Object(d.b)(),n=Object(d.c)(F),a=Object(d.c)(V),i=(Object(d.c)(W),Object(d.c)((function(e){return e.videoURL.status}))),c=Object(d.c)((function(e){return e.videoURL.error})),o=Object(r.useState)(2),s=Object(v.a)(o,2);s[0],s[1];Object(r.useEffect)((function(){"idle"===i&&t(E())}),[i,t]),"loading"===i?e=Object(m.b)("div",{className:"loader"},"Loading..."):"success"===i?e=Object(m.b)("div",{className:"loader"},"Success..."):"failed"===i&&(e=Object(m.b)("div",null,c));for(var u=[],b=0;b<a;b++)u.push(Object(m.b)(G,{key:b,url:n[b],isMuted:0===b}));return Object(m.b)("div",{css:{backgroundColor:"wheat",borderRadius:"25px",display:"flex",width:"auto",flex:"7",flexDirection:"column",alignItems:"center",padding:"10px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)"},title:"Video Area"},e,Object(m.b)("div",{css:{backgroundColor:"black",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",padding:"10px"},title:"Video Player Area"},u),Object(m.b)(H,null))},K=n(33),Q=n.n(K),X=n(34);var Z={name:"blfv16",styles:"background-color:rgba(255, 255, 255, 1);border-radius:10px;height:50px;display:flex;justify-content:center;align-items:center;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);cursor:pointer;transition-duration:0.3s;transition-property:transform;&:hover{transform:scale(1.1);}&:active{transform:scale(0.9);}"},$={name:"2q5poe",styles:"transform:scaleY(1.5) rotate(90deg);padding:5px;"},_=function(e){var t=e.timelineWidth,n=Object(d.b)(),a=Object(d.c)(R),i=Object(d.c)(T),c=Object(d.c)(W),o=Object(r.useState)({x:0,y:0}),b=Object(v.a)(o,2),l=b[0],p=b[1],f=Object(r.useRef)(0);Object(r.useEffect)((function(){i!==f.current&&(j(),f.current=i)}));var j=function(){l.x;var e=l.y;p({x:i/c*t,y:e})},O=Object(m.a)({backgroundColor:"rgba(255, 0, 0, 1)",height:"250px",width:"1px",position:"absolute",zIndex:1,boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",display:"flex",justifyContent:"center",alignItems:"center"},""),g=Z,x=$;return Object(m.b)(Q.a,{onStop:function(e,r){var a=r.x,i=r.y;p({x:a,y:i}),n(C(a/t*c))},axis:"x",bounds:"parent",position:l,disabled:a},Object(m.b)("div",{css:O,title:"Scrubber"},Object(m.b)("div",{css:g,title:"dragHandle"},Object(m.b)(s.a,{css:x,icon:u.a,size:"1x"}))))},ee=function(e){e.timelineWidth;var t=Object(d.c)(N),n=Object(d.c)(W),r=Object(m.a)({display:"flex",flexDirection:"row"},"");return Object(m.b)("div",{css:r,title:"Segments"},t.map((function(e){return Object(m.b)("div",{key:e.id,title:"Segment",css:Object(x.a)({backgroundColor:"alive"===e.state?"blue":"pink",borderRadius:"25px",width:(e.endTime-e.startTime)/n*100+"%",height:"250px",opacity:"0.4"},"")})})))},te=function(){var e=Object(X.a)(),t=e.ref,n=e.width,r=void 0===n?1:n;return Object(m.b)("div",{ref:t,css:{position:"relative",borderRadius:"10px",backgroundColor:"rgba(255, 255, 255, 0.85)",height:"250px",width:"100%",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)"},title:"Timeline"},Object(m.b)(_,{timelineWidth:r}),Object(m.b)(ee,{timelineWidth:r}))};var ne={name:"1ekqhx0",styles:"background-color:rgba(56, 142, 214, 1);border-radius:25px;flex:3;display:grid;grid-template-columns:auto auto auto;padding:10px;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);"},re=function(e){var t=e.iconName,n=e.actionName,r=e.action,a=Object(d.b)();return Object(m.b)("div",{css:{color:"snow",borderRadius:"25px",cursor:"pointer",justifyContent:"center",alignContent:"center",transitionDuration:"0.3s",transitionProperty:"transform","&:hover":{transform:"scale(1.1)"},"&:active":{transform:"scale(0.9)"},display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},title:n,onClick:function(){return a(r())}},Object(m.b)(s.a,{icon:t,size:"5x"}),n)},ae=function(){var e=ne;return Object(m.b)("div",{css:e,title:"CuttingActions"},Object(m.b)(re,{iconName:u.b,actionName:"Cut",action:k}),Object(m.b)(re,{iconName:u.c,actionName:"Mark as Hidden",action:k}),Object(m.b)(re,{iconName:u.j,actionName:"Mark as Deleted",action:k}),Object(m.b)(re,{iconName:u.b,actionName:"Cut",action:k}))},ie=function(){var e=Object(d.c)(f);return Object(m.b)("div",{css:{backgroundColor:"rgba(245, 245, 220, 1)",borderRadius:"25px",flex:"1",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"20px",gap:"20px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)"},title:"MainMenuContext"},e,function(e){switch(e){case"Cutting":return Object(m.b)(a.a.Fragment,null,Object(m.b)("div",{css:Object(x.a)({width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-around",gap:"20px"},"")},Object(m.b)(Y,null),Object(m.b)(ae,null)),Object(m.b)(te,null));default:return Object(m.b)(a.a.Fragment,null,Object(m.b)(s.a,{icon:u.i,size:"10x"}),"Under Construction")}}(e))},ce=function(){return Object(m.b)("div",{css:{display:"flex",flex:"1",flexDirection:"row",padding:"10px",gap:"20px"},title:"Body"},Object(m.b)(ie,null),Object(m.b)(g,null))};var oe=function(){return Object(m.b)("div",{className:"App"},Object(m.b)(ce,null))},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))},ue=Object(b.a)({reducer:{mainMenuState:j,videoState:D,videoURL:B}});c.a.render(Object(m.b)(a.a.StrictMode,null,Object(m.b)(d.a,{store:ue},Object(m.b)(oe,null))),document.getElementById("root")),se()}},[[72,1,2]]]);
//# sourceMappingURL=main.3b872398.chunk.js.map